<div class="container p-3 shadow-sm rounded-3">
  <h1 loc-key="hello_title"></h1>
  <p loc-key="hello_intro"></p>
  <div class="row">
    <div class="col">
      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="name_input" required />
        <label for="name_input" loc-key="name"></label>
        <div class="valid-feedback" loc-key="valid_feedback"></div>
        <div class="invalid-feedback" loc-key="invalid_feedback"></div>
      </div>
    </div>
    <div class="col">
      <div class="form-floating mb-3">
        <input type="email" class="form-control" id="email_input" required />
        <label for="email_input" loc-key="email"></label>
        <div class="valid-feedback" loc-key="valid_feedback"></div>
        <div class="invalid-feedback" loc-key="invalid_feedback"></div>
      </div>
    </div>
  </div>
  <hr class="solid" />
  <div class="row">
    <div class="col">
      <p class="text-body m-0 fw-bold" loc-key="hello_join_question"></p>
    </div>
    <div class="col text-end align-middle">
      <input
        id="join_toggle"
        type="checkbox"
        data-toggle="toggle"
        checked
        data-onlabel="<span loc-key='yes'></span>"
        data-offlabel="<span loc-key='no'></span>"
      />
    </div>
  </div>
  <hr class="solid" />
</div>
<script>
  $(function () {
    $("#join_toggle").change(function () {
      if ($(this).prop("checked")) {
        $("#guests_section").show();
        $("#details_section").show();
      } else {
        $("#guests_section").hide();
        $("#details_section").hide();
      }
      console.log($(this).prop("checked"));
    });
  });
  document.querySelector("#join_toggle").bootstrapToggle();

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("show");
      } else {
        entry.target.classList.remove("show");
      }
    });
  });

  const hiddenElements = document.querySelectorAll(".hidden");
  hiddenElements.forEach((element) => {
    observer.observe(element);
  });
</script>
